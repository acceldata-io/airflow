# Apache Airflow Build Requirements
# Airflow Version: 2.8.1
# Python Version: 3.8
# Constraints: Modified from https://raw.githubusercontent.com/apache/airflow/constraints-2.8.1/constraints-3.8.txt

# Build tools
setuptools
docutils
pytest-runner
Cython

# Use PyMySQL instead of mysqlclient (pure Python, no C compilation needed)
PyMySQL==1.1.1

# Pin versions to match existing airflow tarball environment at https://mirror.odp.acceldata.dev/ODP/PY-UTILS/centos7/ 
aiofiles==24.1.0
cachetools==5.5.2
distlib==0.3.9
filelock==3.16.1
google-auth==2.38.0
kubernetes==30.1.0
kubernetes-asyncio==30.1.0
lxml==5.3.1
platformdirs==4.3.6
requests-oauthlib==2.0.0
websocket-client==1.8.0
xmlsec==1.3.14

# Core Airflow with specific extras (NOT using [all] to avoid mysql extra pulling mysqlclient)
apache-airflow[celery,cncf.kubernetes,ldap,kerberos,statsd,openlineage,postgres,redis,ftp,http,imap,sqlite,async,crypto,password]==2.8.1

# Swagger UI support
connexion[swagger-ui]

# Kubernetes provider (matching existing env)
apache-airflow-providers-cncf-kubernetes==8.4.2

# Data processing
numpy==1.24.4
pandas==2.0.3

# Environment packing
virtualenv
venv-pack
